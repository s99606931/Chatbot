# 운영 매뉴얼

## 1. 시스템 구성

### 1.1 하드웨어 구성
```yaml
베어본 서버:
  CPU: Intel Xeon Scalable
  GPU: NVIDIA RTX 4000 Ada × 4
  Memory: 256GB
  Storage: 4TB NVMe SSD
  네트워크: 10Gbps
```

### 1.2 리소스 할당
```yaml
리소스 할당:
  AI 시스템:
    GPU: NVIDIA RTX 4000 Ada × 3
    Memory: 128GB
    Storage: 2TB
    용도:
      - LLM 추론
      - 벡터 검색
      - 모델 학습
    
  애플리케이션/DB:
    GPU: NVIDIA RTX 4000 Ada × 1
    Memory: 128GB
    Storage: 2TB
    용도:
      - API 서버
      - 데이터베이스
      - 캐시/검색엔진
```

## 2. 일상 운영 관리

### 2.1 시스템 점검
```yaml
일일 점검:
  시스템 상태:
    - CPU/메모리/디스크 사용률
    - GPU 상태 및 사용률
    - 네트워크 상태
    
  서비스 상태:
    - API 응답시간
    - 에러율
    - 사용자 세션
    
  데이터베이스:
    - MariaDB 상태
    - 백업 상태
    - 디스크 공간
```

### 2.2 정기 점검
```yaml
주간 점검:
  - 로그 분석
  - 성능 트렌드 분석
  - 보안 패치 적용
  
월간 점검:
  - 시스템 전반 점검
  - 성능 최적화
  - 용량 계획 수립
  
분기 점검:
  - 대규모 업데이트
  - 보안 감사
  - 백업 복구 테스트
```

## 3. 장애 대응

### 3.1 장애 등급
```yaml
장애 등급:
  Critical:
    - 서비스 완전 중단
    - 데이터 손실/유출
    - 보안 사고
    대응: 즉시 대응 (24/7)
    
  Major:
    - 주요 기능 장애
    - 성능 심각 저하
    - 부분 서비스 중단
    대응: 2시간 이내
    
  Minor:
    - 일부 기능 장애
    - 경미한 성능 저하
    대응: 4시간 이내
```

### 3.2 대응 절차
```yaml
대응 절차:
  1단계: 상황 파악
    - 장애 현상 확인
    - 영향도 평가
    - 등급 판정
    
  2단계: 긴급 조치
    - 서비스 재시작
    - 리소스 확보
    - 임시 우회책 적용
    
  3단계: 원인 분석
    - 로그 분석
    - 모니터링 데이터 검토
    - 근본 원인 파악
```

## 4. 백업 및 복구

### 4.1 백업 정책
```yaml
백업 대상:
  데이터베이스:
    도구: mariabackup
    주기: 매일 02:00
    보관: 30일
    방식: 증분 백업
    
  AI 모델:
    주기: 버전 변경 시
    보관: 최근 5개 버전
    방식: 전체 백업
    
  설정 파일:
    주기: 변경 시
    보관: 영구
    방식: Git 버전 관리
```

### 4.2 복구 절차
```yaml
복구 절차:
  데이터베이스:
    1. 서비스 중지
    2. 백업 복원
    3. 정합성 검증
    4. 서비스 재시작
    
  AI 모델:
    1. 이전 버전 복원
    2. 모델 검증
    3. 성능 테스트
    4. 서비스 적용
```

## 5. 용어 설명

### 5.1 시스템 용어
- **베어본 서버**: 기본적인 하드웨어만 포함된 서버
- **컨테이너**: Docker를 사용한 가상화 단위
- **프로메테우스**: 시계열 데이터베이스와 모니터링 시스템

### 5.2 운영 용어
- **SLA**: Service Level Agreement, 서비스 수준 협약
- **RTO**: Recovery Time Objective, 목표 복구 시간
- **RPO**: Recovery Point Objective, 목표 복구 시점